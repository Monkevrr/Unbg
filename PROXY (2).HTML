<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Launcher</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg: #1a0000;
            --header: #330000;
            --text: #fff;
            --muted: #ccc;
            --accent: #ff0000;
            --accentDark: #cc0000;
            --glowColor: #ff0000;
            --cardBg: #1a0000;
            --cardRadius: 15px;
            --glowSize: 20px;
            --glowStrength: 0.3;
            --fontFamily: 'Arial', sans-serif;
            --snowColor: #ffffff;
            --snowCount: 150;
            --snowSize: 3;
            --snowSpeed: 1.2;
        }

        body {
            font-family: var(--fontFamily);
            background: linear-gradient(135deg, var(--bg), #000000);
            color: var(--text);
            display: flex;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Snow Canvas */
        #snowCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            mix-blend-mode: screen;
        }

        /* Sidebar - Now Horizontal Top Menu */
        .sidebar {
            width: 100%;
            height: auto;
            background: linear-gradient(180deg, var(--header), var(--bg));
            border-bottom: 3px solid var(--accent);
            padding: 15px 20px;
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;
            gap: 20px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
            position: fixed;
            top: 0;
            left: 0;
            z-index: 100;
        }

        .sidebar-item {
            position: relative;
            background: linear-gradient(145deg, var(--accentDark), var(--accent));
            border: 2px solid var(--accent);
            padding: 12px 25px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            font-size: 16px;
            font-weight: bold;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
        }

        .sidebar-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 20px var(--glowColor);
            filter: brightness(1.2);
        }

        .sidebar-item.active {
            filter: brightness(1.3);
            border-color: #ffff00;
            box-shadow: 0 0 20px rgba(255, 255, 0, 0.5);
        }

        .sidebar-item.locked {
            background: linear-gradient(145deg, #666, #999);
            border-color: #999;
            cursor: not-allowed;
            opacity: 0.6;
        }

        .sidebar-item.locked:hover {
            transform: none;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
        }

        .lock-icon {
            margin-left: 5px;
            font-size: 14px;
        }

        /* Tooltip - Adjusted for top menu */
        .tooltip {
            position: absolute;
            left: 50%;
            top: 100%;
            transform: translateX(-50%);
            margin-top: 10px;
            background: var(--accent);
            color: var(--text);
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 13px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.7);
            z-index: 200;
            border: 2px solid var(--glowColor);
        }

        .tooltip::before {
            content: '';
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 8px solid transparent;
            border-bottom-color: var(--accent);
        }

        .sidebar-item:hover .tooltip {
            opacity: 1;
        }

        /* Main Content Area - Adjusted for top menu */
        .main-wrapper {
            margin-left: 0;
            margin-top: 80px;
            margin-bottom: 80px;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: calc(100vh - 160px);
            padding: 20px;
        }

        /* Initial Loading Screen */
        #initial-loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--bg), #000000);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .initial-spinner {
            position: relative;
            width: 120px;
            height: 120px;
            margin-bottom: 30px;
            perspective: 1000px;
        }

        .initial-spinner::before,
        .initial-spinner::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 8px solid transparent;
        }

        .initial-spinner::before {
            border-top-color: var(--accent);
            border-right-color: var(--accentDark);
            animation: spin3d 1.5s linear infinite;
            box-shadow: 0 0 30px var(--accent), inset 0 0 20px var(--glowColor);
        }

        .initial-spinner::after {
            border-bottom-color: var(--glowColor);
            border-left-color: var(--accentDark);
            animation: spin3d 2s linear infinite reverse;
            box-shadow: 0 0 20px var(--accentDark);
        }

        @keyframes spin3d {
            0% { transform: rotateY(0deg) rotateX(30deg); }
            100% { transform: rotateY(360deg) rotateX(30deg); }
        }

        .loading-text {
            font-size: 24px;
            font-weight: bold;
            color: var(--text);
            margin-bottom: 15px;
            text-shadow: 0 0 15px var(--glowColor);
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.05); }
        }

        #gameCount {
            font-size: 18px;
            color: var(--muted);
            margin-top: 10px;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
        }

        .content {
            display: none;
            width: 100%;
            max-width: 1400px;
            padding: 20px;
            overflow-y: auto;
        }

        .content.active {
            display: block;
            animation: slideIn 0.4s ease-out;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h1 {
            margin-bottom: 30px;
            text-align: center;
            font-size: 42px;
            text-shadow: 0 0 20px var(--glowColor);
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 0 0 15px var(--glowColor), 0 0 30px var(--glowColor); }
            to { text-shadow: 0 0 25px var(--glowColor), 0 0 50px var(--glowColor), 0 0 70px var(--glowColor); }
        }

        .section-title {
            font-size: 28px;
            margin: 30px 0 15px;
            text-shadow: 0 0 10px var(--glowColor);
            color: var(--text);
            display: flex;
            align-items: center;
            gap: 10px;
            animation: fadeInUp 0.6s ease-out;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .game-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .game-card {
            background: var(--cardBg);
            border: 3px solid var(--accent);
            border-radius: var(--cardRadius);
            padding: 25px;
            cursor: pointer;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6), 0 0 var(--glowSize) rgba(var(--glowColor), var(--glowStrength));
        }

        .game-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 0, 0, 0.1) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.4s;
        }

        .game-card:hover::before {
            opacity: 1;
        }

        .game-card:hover {
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.8), 0 0 calc(var(--glowSize) * 2) var(--glowColor);
            border-color: var(--glowColor);
        }

        .game-card h3 {
            font-size: 20px;
            margin-bottom: 8px;
            color: var(--text);
            text-shadow: 0 0 10px var(--glowColor);
            position: relative;
            z-index: 1;
        }

        .game-card p {
            font-size: 14px;
            color: var(--muted);
            position: relative;
            z-index: 1;
        }

        /* Search & Filter */
        .search-container {
            width: 100%;
            max-width: 800px;
            margin: 0 auto 30px;
            display: flex;
            gap: 15px;
            align-items: center;
        }

        #searchInput {
            flex: 1;
            padding: 15px 20px;
            font-size: 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid var(--accent);
            border-radius: 12px;
            color: var(--text);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            transition: all 0.3s;
        }

        #searchInput:focus {
            outline: none;
            border-color: var(--glowColor);
            box-shadow: 0 0 20px var(--glowColor);
        }

        #searchInput::placeholder {
            color: var(--muted);
        }

        #clearSearch {
            padding: 15px 25px;
            background: var(--accent);
            color: var(--text);
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            transition: all 0.3s;
        }

        #clearSearch:hover {
            background: var(--accentDark);
            transform: translateY(-3px);
            box-shadow: 0 6px 20px var(--glowColor);
        }

        #noResults {
            display: none;
            text-align: center;
            font-size: 24px;
            color: var(--muted);
            margin-top: 50px;
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
        }

        /* Alphabet Navigation */
        .alphabet-nav {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
            margin: 20px 0 40px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 15px;
            border: 2px solid var(--accent);
        }

        .alphabet-letter {
            padding: 10px 15px;
            background: linear-gradient(145deg, var(--accentDark), var(--accent));
            color: var(--text);
            border: 2px solid var(--accent);
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            font-size: 16px;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
        }

        .alphabet-letter:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 20px var(--glowColor);
            filter: brightness(1.3);
        }

        .alphabet-letter.disabled {
            opacity: 0.3;
            cursor: not-allowed;
            filter: grayscale(100%);
        }

        .alphabet-letter.disabled:hover {
            transform: none;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
        }

        /* Proxy List */
        .proxy-item {
            padding: 20px;
            margin-bottom: 15px;
            background: var(--cardBg);
            border: 3px solid var(--accent);
            border-radius: var(--cardRadius);
            cursor: pointer;
            transition: all 0.4s ease;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6);
            font-size: 18px;
            font-weight: bold;
            text-align: center;
        }

        .proxy-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.8), 0 0 30px var(--glowColor);
            border-color: var(--glowColor);
        }

        /* Settings Page */
        .settings-section {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid var(--accent);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .settings-section h2 {
            font-size: 28px;
            margin-bottom: 20px;
            color: var(--accent);
            text-shadow: 0 0 10px var(--glowColor);
        }

        .theme-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .theme-btn {
            padding: 20px;
            border: 3px solid var(--accent);
            border-radius: 12px;
            background: var(--cardBg);
            color: var(--text);
            cursor: pointer;
            transition: all 0.3s;
            font-size: 16px;
            font-weight: bold;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
        }

        .theme-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 20px var(--glowColor);
        }

        .theme-btn.active {
            border-color: #ffff00;
            box-shadow: 0 0 20px rgba(255, 255, 0, 0.7);
        }

        .teacher-section {
            margin-top: 20px;
        }

        .teacher-section label {
            display: block;
            margin-bottom: 10px;
            font-size: 18px;
            color: var(--text);
        }

        .teacher-section input {
            width: 100%;
            padding: 15px;
            font-size: 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid var(--accent);
            border-radius: 12px;
            color: var(--text);
            margin-bottom: 15px;
        }

        .teacher-section input:focus {
            outline: none;
            border-color: var(--glowColor);
            box-shadow: 0 0 15px var(--glowColor);
        }

        .teacher-section button {
            padding: 15px 30px;
            background: var(--accent);
            color: var(--text);
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s;
        }

        .teacher-section button:hover {
            background: var(--accentDark);
            transform: translateY(-3px);
            box-shadow: 0 6px 20px var(--glowColor);
        }

        .tab-section {
            margin-top: 20px;
        }

        .tab-section label {
            display: block;
            margin-bottom: 10px;
            font-size: 18px;
            color: var(--text);
        }

        .tab-section input {
            width: 100%;
            padding: 15px;
            font-size: 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid var(--accent);
            border-radius: 12px;
            color: var(--text);
            margin-bottom: 15px;
        }

        .tab-section input:focus {
            outline: none;
            border-color: var(--glowColor);
            box-shadow: 0 0 15px var(--glowColor);
        }

        .tab-section button {
            padding: 15px 30px;
            background: var(--accent);
            color: var(--text);
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s;
        }

        .tab-section button:hover {
            background: var(--accentDark);
            transform: translateY(-3px);
            box-shadow: 0 6px 20px var(--glowColor);
        }

        /* Game Container */
        #game-container {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: 1500;
            flex-direction: column;
        }

        #game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: var(--header);
            border-bottom: 3px solid var(--accent);
        }

        #currentGameTitle {
            font-size: 24px;
            font-weight: bold;
            color: var(--text);
            text-shadow: 0 0 10px var(--glowColor);
        }

        #game-controls {
            display: flex;
            gap: 10px;
        }

        #game-controls button {
            padding: 12px 20px;
            background: var(--accent);
            color: var(--text);
            border: 2px solid var(--accent);
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s;
        }

        #game-controls button:hover {
            background: var(--accentDark);
            transform: translateY(-3px);
            box-shadow: 0 6px 15px var(--glowColor);
        }

        #game-frame {
            width: 100%;
            height: calc(100% - 70px);
            border: none;
            background: #fff;
       
        }

        /* Game Loader with Bible Verses */
        #game-loader {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--bg), #000000);
            z-index: 1600;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .loader-spinner {
            position: relative;
            width: 150px;
            height: 150px;
            margin-bottom: 40px;
        }

        .loader-spinner::before,
        .loader-spinner::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 10px solid transparent;
        }

        .loader-spinner::before {
            border-top-color: var(--accent);
            border-right-color: var(--accentDark);
            animation: spin3d 1.5s linear infinite;
            box-shadow: 0 0 40px var(--accent), inset 0 0 25px var(--glowColor);
        }

        .loader-spinner::after {
            border-bottom-color: var(--glowColor);
            border-left-color: var(--accentDark);
            animation: spin3d 2s linear infinite reverse;
            box-shadow: 0 0 30px var(--accentDark);
        }

        .verse-container {
            max-width: 700px;
            text-align: center;
            padding: 30px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid var(--accent);
            border-radius: 15px;
            box-shadow: 0 0 30px var(--glowColor);
        }

        #verseText {
            font-size: 22px;
            font-style: italic;
            color: var(--text);
            margin-bottom: 15px;
            line-height: 1.6;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
        }

        #verseReference {
            font-size: 18px;
            color: var(--muted);
            font-weight: bold;
            text-shadow: 0 0 8px rgba(255, 255, 255, 0.2);
        }

        /* Fullscreen Hint */
        #fullscreenHint {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            color: var(--text);
            padding: 30px 50px;
            border-radius: 15px;
            border: 3px solid var(--accent);
            font-size: 20px;
            text-align: center;
            box-shadow: 0 0 50px var(--glowColor);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s;
            z-index: 2000;
        }

        #fullscreenHint.show {
            opacity: 1;
        }

        /* Bottom Bar */
        .bottom-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: auto;
            background: linear-gradient(0deg, var(--header), var(--bg));
            border-top: 3px solid var(--accent);
            padding: 15px 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.5);
            z-index: 100;
        }

        .bottom-bar-content {
            font-size: 16px;
            font-weight: bold;
            color: var(--text);
            text-shadow: 0 0 10px var(--glowColor);
            text-align: center;
        }

        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 12px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg);
            border-left: 2px solid var(--accent);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--accent);
            border-radius: 6px;
            box-shadow: 0 0 10px var(--glowColor);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--glowColor);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .sidebar {
                flex-wrap: wrap;
                padding: 10px;
                gap: 10px;
            }

            .sidebar-item {
                padding: 10px 15px;
                font-size: 14px;
            }

            h1 {
                font-size: 32px;
            }

            .section-title {
                font-size: 22px;
            }

            .game-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
                gap: 15px;
            }

            .alphabet-nav {
                gap: 5px;
                padding: 15px;
            }

            .alphabet-letter {
                padding: 8px 12px;
                font-size: 14px;
            }
        }

        /* Locked Content Overlay */
        .locked-overlay {
            text-align: center;
            padding: 50px 20px;
        }

        .locked-overlay h2 {
            font-size: 36px;
            color: var(--muted);
            margin-bottom: 20px;
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
        }

        .locked-overlay p {
            font-size: 18px;
            color: var(--muted);
        }
    </style>
</head>
<body>
    <canvas id="snowCanvas"></canvas>

    <!-- Horizontal Top Menu -->
    <div class="sidebar">
        <div class="sidebar-item active" id="gamesItem" onclick="switchTab('games')">
            üéÆ Games
            <span class="tooltip">Browse all available games</span>
        </div>
        <div class="sidebar-item locked" id="proxysItem" onclick="switchTab('proxys')">
            üåê Proxys <span class="lock-icon">üîí</span>
            <span class="tooltip">Unlock by typing 'unlockproxy' in search</span>
        </div>
        <div class="sidebar-item locked" id="testingItem" onclick="switchTab('testing')">
            üß™ Testing <span class="lock-icon">üîí</span>
            <span class="tooltip">Unlock by typing 'unlocktesting' in search</span>
        </div>
        <div class="sidebar-item" id="settingsItem" onclick="switchTab('settings')">
            ‚öôÔ∏è Settings
            <span class="tooltip">Customize your experience</span>
        </div>
        <div class="sidebar-item" id="helpItem" onclick="switchTab('help')">
            ‚ùì Help
            <span class="tooltip">Learn how to use the launcher</span>
        </div>
    </div>

    <!-- Initial Loading Screen -->
    <div id="initial-loader">
        <div class="initial-spinner"></div>
        <div class="loading-text">Loading Game Launcher...</div>
        <div id="gameCount">Connecting to repository...</div>
    </div>

    <!-- Main Content Wrapper -->
    <div id="main-content" class="main-wrapper">
        <!-- Games Tab -->
        <div id="games" class="content active">
            <h1>üéÆ Game Library</h1>
            <div class="search-container">
                <input type="text" id="searchInput" placeholder="Search for games..." oninput="filterGames()">
                <button id="clearSearch" onclick="clearSearch()">Clear</button>
            </div>
            <div class="alphabet-nav" id="alphabetNav"></div>
            <div id="game-sections"></div>
            <div id="noResults">No games found matching your search.</div>
        </div>

        <!-- Proxys Tab -->
        <div id="proxys" class="content">
            <h1>üåê Proxys</h1>
            <div id="proxyList"></div>
        </div>

        <!-- Testing Tab -->
        <div id="testing" class="content">
            <div class="locked-overlay">
                <h2>üß™ Testing Area</h2>
                <p>This section is for experimental features and bug testing.</p>
                <p style="margin-top:15px;">Currently under development.</p>
            </div>
        </div>

        <!-- Settings Tab -->
        <div id="settings" class="content">
            <h1>‚öôÔ∏è Settings</h1>
            
            <div class="settings-section">
                <h2>üé® Theme Selection</h2>
                <div class="theme-grid" id="themeGrid"></div>
            </div>

            <div class="settings-section">
                <h2>üîó Teacher Link</h2>
                <div class="teacher-section">
                    <label for="teacherLinkInput">Enter a URL to quickly switch to when a teacher approaches:</label>
                    <input type="text" id="teacherLinkInput" placeholder="https://example.com">
                    <button onclick="saveTeacherLink()">Save Teacher Link</button>
                    <p id="teacherLinkStatus" style="margin-top:10px;color:var(--muted);"></p>
                </div>
            </div>

            <div class="settings-section">
                <h2>üìë Tab Customization</h2>
                <div class="tab-section">
                    <label for="tabTitleInput">Custom Tab Title:</label>
                    <input type="text" id="tabTitleInput" placeholder="e.g., Google Docs">
                    <label for="tabIconInput">Custom Tab Icon URL:</label>
                    <input type="text" id="tabIconInput" placeholder="e.g., https://www.google.com/favicon.ico">
                    <button onclick="saveTabCustomization()">Save Tab Settings</button>
                    <p id="tabCustomStatus" style="margin-top:10px;color:var(--muted);"></p>
                </div>
            </div>
        </div>

        <!-- Help Tab -->
        <div id="help" class="content">
            <h1>‚ùì Help & Information</h1>
            <div class="settings-section">
                <h2>How to Use This Launcher</h2>
                <p style="line-height:1.8;font-size:16px;">
                    Welcome to the Game Launcher! Here's how to get started:
                    <br><br>
                    <strong>üéÆ Playing Games:</strong> Click on any game card to load it. Use the controls at the top of the game window to reload, go fullscreen, or close the game.
                    <br><br>
                    <strong>üîç Searching:</strong> Use the search bar to quickly find games by name. Type to filter, and click "Clear" to reset.
                    <br><br>
                    <strong>üî§ Alphabet Navigation:</strong> Click on any letter to jump to games starting with that letter.
                    <br><br>
                    <strong>üåê Proxys:</strong> Type 'unlockproxy' in the search bar to unlock the proxy section.
                    <br><br>
                    <strong>üß™ Testing:</strong> Type 'unlocktesting' in the search bar to unlock experimental features.
                    <br><br>
                    <strong>üé® Themes:</strong> Visit the Settings tab to change the color theme of the launcher.
                    <br><br>
                    <strong>üîó Teacher Link:</strong> Set a safe URL in Settings that you can quickly switch to if a teacher approaches.
                    <br><br>
                    <strong>‚å®Ô∏è Keyboard Shortcuts:</strong>
                    <br>‚Ä¢ Press <code>T</code> to quickly switch to your teacher link
                    <br>‚Ä¢ Press <code>F</code> in a game to toggle fullscreen
                    <br>‚Ä¢ Press <code>ESC</code> to close the current game
                </p>
            </div>
            <div class="settings-section">
                <h2>Credits & Information</h2>
                <p style="line-height:1.8;font-size:16px;">
                    This launcher was created to provide easy access to HTML5 games.
                    <br><br>
                    <strong>Features:</strong>
                    <br>‚Ä¢ Automatic game loading from GitHub
                    <br>‚Ä¢ Multiple proxy support
                    <br>‚Ä¢ Customizable themes
                    <br>‚Ä¢ Teacher panic button
                    <br>‚Ä¢ Search and filter
                    <br>‚Ä¢ Fullscreen support
                    <br><br>
                    Enjoy responsibly and always follow your school's technology policies!
                </p>
            </div>
        </div>
    </div>

    <!-- Bottom Bar -->
    <div class="bottom-bar">
        <div class="bottom-bar-content">
            üéÆ Game Launcher v2.0 | Use responsibly during free time
        </div>
    </div>

    <!-- Game Container -->
    <div id="game-container">
        <div id="game-header">
            <div id="currentGameTitle">Game Title</div>
            <div id="game-controls">
                <button onclick="reloadGame()">üîÑ Reload</button>
                <button id="fullscreenBtn" onclick="toggleFullscreen()">‚õ∂ Fullscreen</button>
                <button onclick="closeGame()">‚úñ Close</button>
            </div>
        </div>
        <iframe id="game-frame"></iframe>
    </div>

    <!-- Game Loader with Bible Verse -->
    <div id="game-loader">
        <div class="loader-spinner"></div>
        <div class="verse-container">
            <div id="verseText">"For I know the plans I have for you..."</div>
            <div id="verseReference">- Jeremiah 29:11</div>
        </div>
    </div>

    <!-- Fullscreen Hint -->
    <div id="fullscreenHint">
        Press <strong>ESC</strong> to exit fullscreen
    </div>
<script>
    // Configuration
    const GITHUB_USER = 'Monkevrr';
    const GITHUB_REPO = 'Html';
    const GITHUB_BRANCH = 'main';

    // State
    let games = [];
    let proxies = [];
    let currentGame = { filename: '', title: '' };
    let currentTheme = localStorage.getItem('theme') || 'red';
    let proxyUnlocked = localStorage.getItem('proxyUnlocked') === 'true';
    let testingUnlocked = localStorage.getItem('testingUnlocked') === 'true';

    // Bible verses
    const verses = [
        { text: "For I know the plans I have for you, declares the Lord, plans to prosper you and not to harm you, plans to give you hope and a future.", ref: "Jeremiah 29:11" },
        { text: "I can do all things through Christ who strengthens me.", ref: "Philippians 4:13" },
        { text: "Trust in the Lord with all your heart and lean not on your own understanding.", ref: "Proverbs 3:5" },
        { text: "Be strong and courageous. Do not be afraid; do not be discouraged, for the Lord your God will be with you wherever you go.", ref: "Joshua 1:9" },
        { text: "The Lord is my shepherd, I lack nothing.", ref: "Psalm 23:1" },
        { text: "And we know that in all things God works for the good of those who love him.", ref: "Romans 8:28" },
        { text: "Cast all your anxiety on him because he cares for you.", ref: "1 Peter 5:7" },
        { text: "For God so loved the world that he gave his one and only Son.", ref: "John 3:16" },
        { text: "The Lord bless you and keep you; the Lord make his face shine on you and be gracious to you.", ref: "Numbers 6:24-25" },
        { text: "Do not be anxious about anything, but in every situation, by prayer and petition, with thanksgiving, present your requests to God.", ref: "Philippians 4:6" }
    ];

    function getRandomVerse() {
        return verses[Math.floor(Math.random() * verses.length)];
    }

    // Theme definitions
    const themes = {
        red: { bg: '#1a0000', header: '#330000', accent: '#ff0000', accentDark: '#cc0000', glowColor: '#ff0000' },
        blue: { bg: '#00001a', header: '#000033', accent: '#0099ff', accentDark: '#0066cc', glowColor: '#00ccff' },
        green: { bg: '#001a00', header: '#003300', accent: '#00ff00', accentDark: '#00cc00', glowColor: '#00ff00' },
        purple: { bg: '#1a001a', header: '#330033', accent: '#cc00ff', accentDark: '#9900cc', glowColor: '#ff00ff' },
        orange: { bg: '#1a0f00', header: '#331f00', accent: '#ff9900', accentDark: '#cc7700', glowColor: '#ffaa00' },
        pink: { bg: '#1a0010', header: '#330020', accent: '#ff66cc', accentDark: '#cc3399', glowColor: '#ff99dd' },
        cyan: { bg: '#001a1a', header: '#003333', accent: '#00ffff', accentDark: '#00cccc', glowColor: '#00ffff' },
        yellow: { bg: '#1a1a00', header: '#333300', accent: '#ffff00', accentDark: '#cccc00', glowColor: '#ffff00' }
    };

    function applyTheme(themeName) {
        const theme = themes[themeName] || themes.red;
        const root = document.documentElement;
        root.style.setProperty('--bg', theme.bg);
        root.style.setProperty('--header', theme.header);
        root.style.setProperty('--accent', theme.accent);
        root.style.setProperty('--accentDark', theme.accentDark);
        root.style.setProperty('--glowColor', theme.glowColor);
        currentTheme = themeName;
        localStorage.setItem('theme', themeName);
    }

    function renderThemeGrid() {
        const grid = document.getElementById('themeGrid');
        grid.innerHTML = Object.keys(themes).map(name => {
            const active = name === currentTheme ? 'active' : '';
            return `<div class="theme-btn ${active}" onclick="applyTheme('${name}')">${name.charAt(0).toUpperCase() + name.slice(1)}</div>`;
        }).join('');
    }

    // Teacher link functionality
    function saveTeacherLink() {
        const input = document.getElementById('teacherLinkInput');
        const url = input.value.trim();
        if (url && (url.startsWith('http://') || url.startsWith('https://'))) {
            localStorage.setItem('teacherLink', url);
            document.getElementById('teacherLinkStatus').textContent = '‚úì Teacher link saved!';
            document.getElementById('teacherLinkStatus').style.color = '#00ff00';
        } else {
            document.getElementById('teacherLinkStatus').textContent = '‚úó Please enter a valid URL starting with http:// or https://';
            document.getElementById('teacherLinkStatus').style.color = '#ff0000';
        }
    }

    function loadTeacherLink() {
        const savedLink = localStorage.getItem('teacherLink');
        if (savedLink) {
            document.getElementById('teacherLinkInput').value = savedLink;
        }
    }

    // Tab customization functionality
    function saveTabCustomization() {
        const titleInput = document.getElementById('tabTitleInput');
        const iconInput = document.getElementById('tabIconInput');
        const title = titleInput.value.trim();
        const icon = iconInput.value.trim();
        
        if (title) {
            document.title = title;
            localStorage.setItem('customTabTitle', title);
        }
        
        if (icon) {
            let link = document.querySelector("link[rel~='icon']");
            if (!link) {
                link = document.createElement('link');
                link.rel = 'icon';
                document.head.appendChild(link);
            }
            link.href = icon;
            localStorage.setItem('customTabIcon', icon);
        }
        
        document.getElementById('tabCustomStatus').textContent = '‚úì Tab settings saved!';
        document.getElementById('tabCustomStatus').style.color = '#00ff00';
    }

    function loadTabCustomization() {
        const savedTitle = localStorage.getItem('customTabTitle');
        const savedIcon = localStorage.getItem('customTabIcon');
        
        if (savedTitle) {
            document.title = savedTitle;
            document.getElementById('tabTitleInput').value = savedTitle;
        }
        
        if (savedIcon) {
            let link = document.querySelector("link[rel~='icon']");
            if (!link) {
                link = document.createElement('link');
                link.rel = 'icon';
                document.head.appendChild(link);
            }
            link.href = savedIcon;
            document.getElementById('tabIconInput').value = savedIcon;
        }
    }

    // Keyboard shortcuts
    document.addEventListener('keydown', (e) => {
        // T key - Teacher panic button
        if (e.key.toLowerCase() === 't' && !e.ctrlKey && !e.altKey) {
            const teacherLink = localStorage.getItem('teacherLink');
            if (teacherLink) {
                window.location.href = teacherLink;
            }
        }
        
        // ESC key - Close game
        if (e.key === 'Escape') {
            const gameContainer = document.getElementById('game-container');
            if (gameContainer.style.display === 'flex') {
                closeGame();
            }
        }
        
        // F key - Fullscreen toggle (only in game)
        if (e.key.toLowerCase() === 'f' && !e.ctrlKey && !e.altKey) {
            const gameContainer = document.getElementById('game-container');
            if (gameContainer.style.display === 'flex') {
                e.preventDefault();
                toggleFullscreen();
            }
        }
    });

    // Snow animation
    function createSnowEffect() {
        const canvas = document.getElementById('snowCanvas');
        const ctx = canvas.getContext('2d');
        
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        
        const snowflakes = [];
        const snowCount = 150;
        const snowSize = 3;
        const snowSpeed = 1.2;
        
        class Snowflake {
            constructor() {
                this.reset();
            }
            
            reset() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height - canvas.height;
                this.size = Math.random() * snowSize + 1;
                this.speed = Math.random() * snowSpeed + 0.5;
                this.wind = Math.random() * 0.5 - 0.25;
            }
            
            update() {
                this.y += this.speed;
                this.x += this.wind;
                
                if (this.y > canvas.height) {
                    this.reset();
                    this.y = -10;
                }
                
                if (this.x > canvas.width) {
                    this.x = 0;
                } else if (this.x < 0) {
                    this.x = canvas.width;
                }
            }
            
            draw() {
                ctx.fillStyle = '#ffffff';
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }
        
        for (let i = 0; i < snowCount; i++) {
            snowflakes.push(new Snowflake());
        }
        
        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            snowflakes.forEach(flake => {
                flake.update();
                flake.draw();
            });
            requestAnimationFrame(animate);
        }
        
        animate();
        
        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
    }

    createSnowEffect();

    // Tab switching
    function switchTab(tabName) {
        document.querySelectorAll('.content').forEach(c => c.classList.remove('active'));
        document.querySelectorAll('.sidebar-item').forEach(i => i.classList.remove('active'));
        
        document.getElementById(tabName).classList.add('active');
        document.getElementById(tabName + 'Item').classList.add('active');
        
        if (tabName === 'proxys' && !proxyUnlocked) {
            document.getElementById(tabName).innerHTML = '<div class="locked-overlay"><h2>üîí Locked</h2><p>Type <code>unlockproxy</code> in the search bar to unlock this section.</p></div>';
        }
        
        if (tabName === 'testing' && !testingUnlocked) {
            document.getElementById(tabName).innerHTML = '<div class="locked-overlay"><h2>üîí Locked</h2><p>Type <code>unlocktesting</code> in the search bar to unlock this section.</p></div>';
        }
    }

    // Unlock features
    function unlockProxy() {
        proxyUnlocked = true;
        localStorage.setItem('proxyUnlocked', 'true');
        const item = document.getElementById('proxysItem');
        item.classList.remove('locked');
        item.innerHTML = 'üåê Proxys<span class="tooltip">Browse proxy files</span>';
        switchTab('proxys');
    }

    function unlockTesting() {
        testingUnlocked = true;
        localStorage.setItem('testingUnlocked', 'true');
        const item = document.getElementById('testingItem');
        item.classList.remove('locked');
        item.innerHTML = 'üß™ Testing<span class="tooltip">Experimental features</span>';
        switchTab('testing');
    }

    // Search functionality
    function filterGames() {
        const input = document.getElementById('searchInput').value.toLowerCase();
        
        if (input === 'unlockproxy') {
            unlockProxy();
            document.getElementById('searchInput').value = '';
            return;
        }
        
        if (input === 'unlocktesting') {
            unlockTesting();
            document.getElementById('searchInput').value = '';
            return;
        }
        
        const filtered = games.filter(g => g.title.toLowerCase().includes(input));
        
        if (filtered.length === 0) {
            document.getElementById('noResults').style.display = 'block';
            document.getElementById('game-sections').style.display = 'none';
            document.getElementById('alphabetNav').style.display = 'none';
        } else {
            document.getElementById('noResults').style.display = 'none';
            document.getElementById('game-sections').style.display = 'block';
            document.getElementById('alphabetNav').style.display = 'flex';
            renderGameSections(filtered);
        }
    }

    function clearSearch() {
        document.getElementById('searchInput').value = '';
        document.getElementById('noResults').style.display = 'none';
        document.getElementById('game-sections').style.display = 'block';
        document.getElementById('alphabetNav').style.display = 'flex';
        renderGameSections();
    }

    // GitHub fetching
    async function fetchWithFallback(filename) {
        const urls = [
            `https://cdn.jsdelivr.net/gh/${GITHUB_USER}/${GITHUB_REPO}@${GITHUB_BRANCH}/${filename}`,
            `https://raw.githubusercontent.com/${GITHUB_USER}/${GITHUB_REPO}/${GITHUB_BRANCH}/${filename}`,
            `https://${GITHUB_USER}.github.io/${GITHUB_REPO}/${filename}`
        ];

        for (let i = 0; i < urls.length; i++) {
            try {
                const response = await fetch(urls[i] + `?t=${Date.now()}`);
                if (response.ok) {
                    return await response.text();
                }
            } catch (err) {
                if (i === urls.length - 1) throw err;
            }
        }
        throw new Error('All methods failed');
    }

    async function fetchGames() {
        games = [
            { title: "1 On 1 Soccer", file: "1 On 1 Soccer.html" },
            { title: "1 On 1 Tennis", file: "1 On 1 Tennis.html" },
            { title: "10 Minutes Till Dawn", file: "10 Minutes Till Dawn.html" },
            { title: "10-103 Null Kevin", file: "10-103 Null Kevin.html" },
            { title: "10 Bullets", file: "10-bullets.html" },
            { title: "12 Mini Battles", file: "12 Mini Battles.html" },
            { title: "1v1 Lol", file: "1v1 lol.html" },
            { title: "1v1loll", file: "1v1loll.html" },
            { title: "2048 Cupcakes", file: "2048 cupcakes.html" },
            { title: "2048", file: "2048.html" },
            { title: "2D Shooting", file: "2D Shooting.html" },
            { title: "2Doom", file: "2Doom.html" },
            { title: "3 Slices 2", file: "3 Slices 2.html" },
            { title: "3Dash", file: "3Dash.html" },
            { title: "40xescape", file: "40xescape.html" },
            { title: "4th And Goal", file: "4th And Goal.html" },
            { title: "60 Seconds Burger Run", file: "60 Seconds Burger Run.html" },
            { title: "60 Seconds Santa Run", file: "60 Seconds Santa Run.html" },
            { title: "8 Ball Classic", file: "8 Ball Classic.html" },
            { title: "8 Ball Pool", file: "8 Ball Pool.html" },
            { title: "9007199254740992", file: "9007199254740992.html" },
            { title: "99 Balls", file: "99 Balls.html" },
            { title: "A Dance Of Fire And Ice", file: "A Dance of Fire and Ice.html" },
            { title: "A Dark Room", file: "A Dark Room.html" },
            { title: "A Day In The Office", file: "A Day In The Office.html" },
            { title: "A Koopas Revenge 2", file: "A Koopas Revenge 2.html" },
            { title: "A Koopas Revenge", file: "A Koopas Revenge.html" },
            { title: "A Small World Cup", file: "A Small World Cup.html" },
            { title: "Abandoned 3", file: "Abandoned 3.html" },
            { title: "Abandoned", file: "Abandoned.html" },
            { title: "Absolute Madness", file: "Absolute Madness.html" },
            { title: "Achievement Unlocked 2", file: "Achievement Unlocked 2.html" },
            { title: "Achievement Unlocked 3", file: "Achievement Unlocked 3.html" },
            { title: "Achievement Unlocked", file: "Achievement Unlocked.html" },
            { title: "Achilles 2", file: "Achilles 2.html" },
            { title: "Achilles", file: "Achilles.html" },
            { title: "Adofai", file: "Adofai.html" },
            { title: "Advent Neon", file: "Advent Neon.html" },
            { title: "Agar.io Lite", file: "Agar.io Lite.html" },
            { title: "Age Of War 2", file: "Age of War 2.html" },
            { title: "Age Of War", file: "Age of War.html" },
            { title: "Ages Of Conflict", file: "Ages of Conflict.html" },
            { title: "Ahoy Survival", file: "Ahoy Survival.html" },
            { title: "Alien Hominid", file: "Alien Hominid.html" },
            { title: "Alien Sky Invasion", file: "Alien Sky Invasion.html" },
            { title: "Allocation", file: "Allocation.html" },
            { title: "Amanda The Adventurer", file: "Amanda the Adventurer.html" },
            { title: "Amaze", file: "Amaze.html" },
            { title: "Amazing Strange Rope Police", file: "Amazing Strange Rope Police.html" },
            { title: "Amidst The Sky", file: "Amidst The Sky.html" },
            { title: "Amigo Pancho 2", file: "Amigo Pancho 2.html" },
            { title: "Amigo Pancho 3", file: "Amigo Pancho 3.html" },
            { title: "Amigo Pancho 4", file: "Amigo Pancho 4.html" },
            { title: "Amigo Pancho 5", file: "Amigo Pancho 5.html" },
            { title: "Amigo Pancho 6", file: "Amigo Pancho 6.html" },
            { title: "Amigo Pancho", file: "Amigo Pancho.html" },
            { title: "Among Us", file: "Among Us.html" },
            { title: "Amorphous +", file: "Amorphous +.html" },
            { title: "Ancient Sins", file: "Ancient Sins.html" },
            { title: "Angry Birds Showdown", file: "Angry Birds Showdown.html" },
            { title: "Angry Birds Space", file: "Angry Birds Space.html" },
            { title: "Angry Birds", file: "Angry Birds.html" },
            { title: "Animator Vs Animation Game", file: "Animator Vs Animation Game (Special Edition).html" },
            { title: "Apple Shooter", file: "Apple Shooter.html" },
            { title: "Apple Worm", file: "Apple Worm.html" },
            { title: "Aquapark.io", file: "Aquapark.io.html" },
            { title: "Archery World Tour", file: "Archery World Tour.html" },
            { title: "Are We There Yet", file: "Are We There Yet.html" },
            { title: "Armor Mayhem 2", file: "Armor Mayhem 2.html" },
            { title: "Arsonate", file: "Arsonate.html" },
            { title: "Ascent", file: "Ascent.html" },
            { title: "Assessment Examination", file: "Assessment Examination.html" },
            { title: "Asteroids", file: "Asteroids.html" },
            { title: "Attack Hole", file: "Attack Hole.html" },
            { title: "Avalanche", file: "Avalanche.html" },
            { title: "Aviamasters", file: "Aviamasters.html" },
            { title: "Awesome Pirates", file: "Awesome Pirates.html" },
            { title: "Awesome Planes", file: "Awesome Planes.html" },
            { title: "Awesome Tanks 2", file: "Awesome Tanks 2.html" },
            { title: "Awesome Tanks", file: "Awesome Tanks.html" },
            { title: "Babel Tower", file: "Babel Tower.html" },
            { title: "Baby Chicco Adventure", file: "Baby Chicco Adventure.html" },
            { title: "Backrooms 2D", file: "Backrooms 2D.html" },
            { title: "Backrooms", file: "Backrooms.html" },
            { title: "Backyard Baseball", file: "Backyard Baseball.html" },
            { title: "Bacon May Die", file: "Bacon May Die.html" },
            { title: "Bad Ice Cream", file: "Bad Ice Cream.html" },
            { title: "Bad Monday Simulator", file: "Bad Monday Simulator.html" },
            { title: "Bad Parenting", file: "Bad Parenting.html" },
            { title: "Bad Piggies", file: "Bad Piggies.html" },
            { title: "Bad Time Simulator", file: "Bad Time Simulator.html" },
            { title: "Badmondaysim", file: "Badmondaysim.html" },
            { title: "Badparenting", file: "Badparenting.html" },
            { title: "Baldi 1", file: "Baldi1.html" },
            { title: "Baldi 2", file: "Baldi2.html" },
            { title: "Baldi 3", file: "Baldi3.html" },
            { title: "Baldis Basics Remastered", file: "Baldis Basics Remastered.html" },
            { title: "Baldis Basics The Ultra Decompile", file: "Baldis Basics The Ultra Decompile.html" },
            { title: "Baldis Basics", file: "Baldis Basics.html" },
            { title: "Baldis Fun New School Ultimate", file: "Baldis Fun New School Ultimate.html" },
            { title: "Ball Blast", file: "Ball Blast.html" },
            { title: "Balls And Bricks", file: "Balls And Bricks.html" },
            { title: "Banana Simulator", file: "Banana Simulator.html" },
            { title: "Bandit Gunslingers", file: "Bandit Gunslingers.html" },
            { title: "Bank Robbery 2", file: "Bank Robbery 2.html" },
            { title: "Barry Has A Secret", file: "Barry Has a Secret.html" },
            { title: "Baseball Bros", file: "Baseball Bros.html" },
            { title: "Basket Battle", file: "Basket Battle.html" },
            { title: "Basket Bros", file: "Basket Bros.html" },
            { title: "Basket Slam Dunk 2", file: "Basket Slam Dunk 2.html" },
            { title: "Basketrandom", file: "BasketRandom.html" },
            { title: "Basketball FRVR", file: "Basketball FRVR.html" },
            { title: "Basketball Legends", file: "Basketball Legends.html" },
            { title: "Basketball Stars", file: "Basketball Stars.html" },
            { title: "Basketbros", file: "Basketbros.html" },
            { title: "Batter Up", file: "Batter Up.html" },
            { title: "Battle Karts", file: "Battle Karts.html" },
            { title: "Battle Simulator", file: "Battle Simulator.html" },
            { title: "Bazooka Boy", file: "Bazooka Boy.html" },
            { title: "Bearbarians", file: "Bearbarians.html" },
            { title: "Big Ice Tower Tiny Square", file: "Big Ice Tower Tiny Square.html" },
            { title: "Big Neon Tower Tiny Square", file: "Big Neon Tower Tiny Square.html" },
            { title: "Big Shot Boxing", file: "Big Shot Boxing.html" },
            { title: "Big Time Butter Baron", file: "Big Time Butter Baron.html" },
            { title: "Big Tower Tiny Square 2", file: "Big Tower Tiny Square 2.html" },
            { title: "Big Tower Tiny Square", file: "Big Tower Tiny Square.html" },
            { title: "Binding Of Isaac Wrath Of The Lamb", file: "Binding of Isaac - Wrath of the Lamb Eternal Edition.html" },
            { title: "Bio Evil 4", file: "Bio Evil 4.html" },
            { title: "Bit Planes", file: "Bit Planes.html" },
            { title: "Bitlife", file: "Bitlife.html" },
            { title: "Blackjack Battle", file: "Blackjack Battle.html" },
            { title: "Blackjack", file: "Blackjack.html" },
            { title: "Blacksmith Lab", file: "Blacksmith Lab.html" },
            { title: "Blastronaut", file: "Blastronaut.html" },
            { title: "Blaze Drifter", file: "Blaze Drifter.html" },
            { title: "Bleach Vs Naruto", file: "Bleach vs Naruto.html" },
            { title: "Blightborne", file: "Blightborne.html" },
            { title: "Blob Eater Adventure", file: "Blob Eater Adventure.html" },
            { title: "Blobs Story 2", file: "Blobs Story 2.html" },
            { title: "Block Blast", file: "Block Blast.html" },
            { title: "Block The Pig", file: "Block the Pig.html" },
            { title: "Blockblast", file: "Blockblast.html" },
            { title: "Blockpost", file: "Blockpost.html" },
            { title: "Blocky Demolition Derby", file: "Blocky Demolition Derby.html" },
            { title: "Blocky Snakes", file: "Blocky Snakes.html" },
            { title: "Blood Tournament", file: "Blood Tournament.html" },
            { title: "Bloodmoney", file: "Bloodmoney.html" },
            { title: "Bloons 2", file: "Bloons 2.html" },
            { title: "Bloons Player Pack 1", file: "Bloons Player Pack 1.html" },
            { title: "Bloons Player Pack 2", file: "Bloons Player Pack 2.html" },
            { title: "Bloons Player Pack 3", file: "Bloons Player Pack 3.html" },
            { title: "Bloons Player Pack 4", file: "Bloons Player Pack 4.html" },
            { title: "Bloons Player Pack 5", file: "Bloons Player Pack 5.html" },
            { title: "Bloons", file: "Bloons.html" },
            { title: "Bloxorz", file: "Bloxorz.html" },
            { title: "Blumgi Racers", file: "Blumgi Racers.html" },
            { title: "Bob The Robber 2", file: "Bob the Robber 2.html" },
            { title: "Bob The Robber 5", file: "Bob the Robber 5.html" },
            { title: "Bob The Robber", file: "Bob the Robber.html" },
            { title: "Bolly Beat", file: "Bolly Beat.html" },
            { title: "Boom Slingers", file: "Boom Slingers.html" },
            { title: "Bottle Cracks", file: "Bottle Cracks.html" },
            { title: "Bottle Jump 3d", file: "Bottle Jump 3d.html" },
            { title: "Bounce Back", file: "Bounce Back.html" },
            { title: "Bouncemasters", file: "Bouncemasters.html" },
            { title: "Bouncy Motors", file: "Bouncy Motors.html" },
            { title: "Bounty Of One", file: "Bounty of One.html" },
            { title: "Bowmasters", file: "Bowmasters.html" },
            { title: "Boxhead 2play Rooms", file: "Boxhead 2play Rooms.html" },
            { title: "Boxhead Nightmare", file: "Boxhead Nightmare.html" },
            { title: "Boxing Live 2", file: "Boxing Live 2.html" },
            { title: "Boxing Random", file: "Boxing Random.html" },
            { title: "Boxingrandom", file: "Boxingrandom.html" },
            { title: "Bridge Race", file: "Bridge Race.html" },
            { title: "Brotato", file: "Brotato.html" },
            { title: "Bubble Shooter Pirate", file: "Bubble Shooter Pirate.html" },
            { title: "Bubble Shooter", file: "Bubble Shooter.html" },
            { title: "Bubble Tanks 2", file: "Bubble Tanks 2.html" },
            { title: "Bubble Tanks 3", file: "Bubble Tanks 3.html" },
            { title: "Bubble Tanks Arenas", file: "Bubble Tanks Arenas.html" },
            { title: "Bubble Tanks Tower Defense", file: "Bubble Tanks Tower Defense.html" },
            { title: "Bubble Tanks", file: "Bubble Tanks.html" },
            { title: "Buildnow.gg", file: "BuildNow.GG.html" },
            { title: "Bunnyland", file: "Bunnyland.html" },
            { title: "Burger And Frights", file: "Burger and Frights.html" },
            { title: "Burrito Bison Launcha Libre", file: "Burrito Bison Launcha Libre.html" },
            { title: "Burrito Bison Revenge", file: "Burrito Bison Revenge.html" },
            { title: "Burrito Bison", file: "Burrito Bison.html" },
            { title: "Cactus Mccoy 2", file: "Cactus Mccoy 2.html" },
            { title: "Cactus Mccoy", file: "Cactus Mccoy.html" },
            { title: "Cannon Balls 3D", file: "Cannon Balls 3D.html" },
            { title: "Capybara Clicker", file: "Capybara Clicker.html" },
            { title: "Capybaraclicker", file: "Capybaraclicker.html" },
            { title: "Car Drawing", file: "Car Drawing.html" },
            { title: "Cluster", file: "Cluster.html" },
            { title: "Coreball", file: "Coreball.html" },
            { title: "Crossy Road 3D", file: "Crossy Road  3D WIDESCREEN.html" },
            { title: "Cubik", file: "Cubik.html" },
            { title: "DoDLed Jump", file: "DoDLed Jump.html" },
            { title: "Doge Miner", file: "Doge miner.html" },
            { title: "Doom", file: "Doom.html" },
            { title: "Drive Mad", file: "Drive Mad.html" },
            { title: "Driven Wild", file: "Driven Wild.html" },
            { title: "Duck Life 2", file: "Duck Life 2.html" },
            { title: "Duck Life", file: "Duck Life.html" },
            { title: "Elastic", file: "Elastic.html" },
            { title: "Escape Road", file: "Escape road.html" },
            { title: "FNAF 1", file: "Fnaf1.html" },
            { title: "FNAF 2", file: "Fnaf2.html" },
            { title: "FNAF 3", file: "Fnaf3.html" },
            { title: "FNAF 4", file: "Fnaf4.html" },
            { title: "Football Bros", file: "Footballbros.html" },
            { title: "Friday Night Funkin", file: "Friday Night Funkin.html" },
            { title: "Geometry Dash", file: "Geometry dash.html" },
            { title: "Gobble", file: "Gobble.html" },
            { title: "Granny 2", file: "Granny2.html" },
            { title: "Granny 3", file: "Granny3.html" },
            { title: "Hollow Knight", file: "Hollowknight.html" },
            { title: "IQ Ball", file: "IQ Ball.html" },
            { title: "Icy Purple Head", file: "Icy Purple Head.html" },
            { title: "Idle Breakout", file: "Idle Breakout.html" },
            { title: "Idle Dice", file: "Idle Dice.html" },
            { title: "Idle Idle Game Dev", file: "Idle Idle Game Dev.html" },
            { title: "Idle Miner Tycoon", file: "Idle Miner Tycoon.html" },
            { title: "Idleminer", file: "Idleminer.html" },
            { title: "Indian Truck Simulator", file: "Indian Truck Simulator.html" },
            { title: "Innkeeper", file: "Innkeeper.html" },
            { title: "Into Ruins", file: "Into Ruins.html" },
            { title: "Into Space 2", file: "Into Space 2.html" },
            { title: "Into Space 3", file: "Into Space 3.html" },
            { title: "Into Space", file: "Into Space.html" },
            { title: "Into The Deep Web", file: "Into The Deep Web.html" },
            { title: "Intrusion", file: "Intrusion.html" },
            { title: "Iron Snout", file: "Iron Snout.html" },
            { title: "Islander", file: "Islander.html" },
            { title: "Jailbreak Obby", file: "Jailbreak Obby.html" },
            { title: "Kindergarten 2", file: "Kindergarten 2.html" },
            { title: "Knightmare Tower", file: "Knightmare Tower.html" },
            { title: "Learn To Fly", file: "Learn to Fly.html" },
            { title: "Minecraft", file: "Minecraft.html" },
            { title: "Minecraft 8", file: "Minecraft8.html" },
            { title: "Monkey Mart", file: "Monkeymart.html" },
            { title: "Not My Neighbor", file: "Notmyneighbor.html" },
            { title: "OVO", file: "OVO.html" },
            { title: "Only Car", file: "Only Car.html" },
            { title: "Only Up", file: "Only Up.html" },
            { title: "OvO 2", file: "OvO 2.html" },
            { title: "Pac-man", file: "Pac-man.html" },
            { title: "Papa's Taco Mia", file: "Papa's Taco mia.html" },
            { title: "Paparapa", file: "Paparapa.html" },
            { title: "Paper io", file: "Paper io.html" },
            { title: "Paper.io 2", file: "Paper.io 2.html" },
            { title: "Paper.io", file: "Paper.io.html" },
            { title: "People Playground", file: "People playground.html" },
            { title: "Pixel Battlegrounds.io", file: "Pixel Battlegrounds.io.html" },
            { title: "Pixel Speedrun", file: "Pixel Speedrun.html" },
            { title: "Pizza Tower", file: "Pizza Tower.html" },
            { title: "Plazma Burst", file: "Plazma Burst.html" },
            { title: "Poly Track", file: "Poly Track.html" },
            { title: "Portal 2D", file: "Portal 2D.html" },
            { title: "Portal", file: "Portal.html" },
            { title: "Power Saver", file: "Power Saver.html" },
            { title: "Punch The Trump", file: "Punch the Trump.html" },
            { title: "Quake III Arena", file: "Quake III Arena.html" },
            { title: "R.E.P.O", file: "R.E.P.O.html" },
            { title: "Raft", file: "Raft.html" },
            { title: "Ragdoll Archers", file: "Ragdoll Archers.html" },
            { title: "Ragdollarchers", file: "Ragdollarchers.html" },
            { title: "Ragdollhit", file: "Ragdollhit.html" },
            { title: "Retro Bowl", file: "Retro Bowl.html" },
            { title: "Retrobowl", file: "Retrobowl.html" },
            { title: "Scary Maze Game", file: "Scary Maze Game.html" },
            { title: "Slope", file: "Slope.html" },
            { title: "Slow Roads", file: "Slow Roads.html" },
            { title: "Snow Rider 3D", file: "Snow Rider 3D.html" },
            { title: "Sonic The Hedgehog", file: "Sonic the Hedgehog.html" },
            { title: "Steal A Brainrot", file: "Steal A Brainrot.html" },
            { title: "Subway Surfers Mexico", file: "Subway Surfers_ Mexico.html" },
            { title: "The Second Thought", file: "The Second Thought or Please Dont Touch Anything Ludum Dare 31.html" },
            { title: "Time Shooter 2", file: "Time Shooter 2.html" },
            { title: "Tomb Of The Mask", file: "Tomb of the Mask.html" },
            { title: "Troll Face Quest 1", file: "Troll Face Quest 1.html" },
            { title: "Troll Face Quest 10", file: "Troll Face Quest 10.html" },
            { title: "Troll Face Quest 12", file: "Troll Face Quest 12.html" },
            { title: "Troll Face Quest 13", file: "Troll Face Quest 13.html" },
            { title: "Troll Face Quest 2", file: "Troll Face Quest 2.html" },
            { title: "Troll Face Quest 3", file: "Troll Face Quest 3.html" },
            { title: "Troll Face Quest 4", file: "Troll Face Quest 4.html" },
            { title: "Troll Face Quest 5", file: "Troll Face Quest 5.html" },
            { title: "Troll Face Quest 6", file: "Troll Face Quest 6.html" },
            { title: "Troll Face Quest 7", file: "Troll Face Quest 7.html" },
            { title: "Troll Face Quest 8", file: "Troll Face Quest 8.html" },
            { title: "Troll Face Quest 9", file: "Troll Face Quest 9.html" },
            { title: "Twerk Race 3D", file: "Twerk Race 3D.html" },
            { title: "Ultrakill", file: "Ultrakill.html" },
            { title: "Undertale Yellow", file: "Undertale Yellow.html" },
            { title: "Undertale", file: "Undertale.html" },
            { title: "Unicycle Hero", file: "Unicycle Hero.html" },
            { title: "Vex", file: "Vex.html" },
            { title: "Villager", file: "Villager.html" },
            { title: "Volley Random", file: "Volley Random.html" },
            { title: "Waterpool.io", file: "Waterpool.io.html" },
            { title: "You Vs. 100 Skibidi", file: "You vs. 100 Skibidi.html" },
            { title: "Zen Word", file: "Zen Word.html" },
            { title: "Zuma", file: "Zuma.html" },
            { title: "Bloxy", file: "bloxy.html" },
            { title: "Burrito Bison Classic", file: "burrito.html" },
            { title: "Cookie Clicker", file: "cookieclicker.html" },
            { title: "Five Nights At Obamas", file: "five-nights-at-obamas.html" },
            { title: "Geometry Dash Lite", file: "geometry-dash-lite.html" },
            { title: "Granny", file: "granny.html" },
            { title: "Idle RPG", file: "idlr.html" },
            { title: "Kindergarten", file: "kindergarten 1.html" },
            { title: "Kindergarten 3", file: "kindergarten 3.html" },
            { title: "Minecraft 1.20", file: "mc1.20_u76.html" },
            { title: "OvO 3", file: "oVo3.html" },
            { title: "Mrsandie", file: "Mrsandie.html" },
            { title: "Unit", file: "Unit.html" },
            { title: "Snkpeshot", file: "snkpeshot.html" }
        ];

        console.log(`‚úì Loaded ${games.length} games`);
    }

    async function fetchProxies() {
        proxies = [
            { name: "Ultraviolet", path: "prox/ultraviolet.html" },
            { name: "Unit", path: "prox/Unit.html" }
        ];
        console.log(`‚úì Loaded ${proxies.length} proxies`);
    }

    // Render alphabet navigation
    function renderAlphabetNav() {
        const container = document.getElementById('alphabetNav');
        const alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');
        const grouped = groupGamesByLetter();
        
        container.innerHTML = alphabet.map(letter => {
            const disabled = !grouped[letter] ? 'disabled' : '';
            return `<div class="alphabet-letter ${disabled}" onclick="scrollToLetter('${letter}')">${letter}</div>`;
        }).join('');
    }

    function scrollToLetter(letter) {
        const element = document.getElementById(`section-${letter}`);
        if (element) {
            element.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
    }

    function groupGamesByLetter(gameList = games) {
        const grouped = {};
        gameList.forEach(game => {
            const first = game.title.charAt(0).toUpperCase();
            if (!grouped[first]) grouped[first] = [];
            grouped[first].push(game);
        });
        return grouped;
    }

    function renderGameSections(gameList = games) {
        const container = document.getElementById('game-sections');
        const grouped = groupGamesByLetter(gameList);
        const letters = Object.keys(grouped).sort();
        
        if (letters.length === 0) {
            container.innerHTML = '';
            return;
        }
        
        container.innerHTML = letters.map(letter => `
            <div id="section-${letter}">
                <div class="section-title">üìÅ ${letter}</div>
                <div class="game-grid">
                    ${grouped[letter].map(game => `
                        <div class="game-card" onclick="loadGame('${game.file}', '${game.title.replace(/'/g, "\\'")}')">
                            <h3>${game.title}</h3>
                            <p>Click to play</p>
                        </div>
                    `).join('')}
                </div>
            </div>
        `).join('');
        
        // Update alphabet navigation
        document.querySelectorAll('.alphabet-letter').forEach(letter => {
            const letterChar = letter.textContent;
            if (grouped[letterChar]) {
                letter.classList.remove('disabled');
            } else {
                letter.classList.add('disabled');
            }
        });
        
        document.getElementById('noResults').style.display = 'none';
    }

    async function renderProxyItems() {
        const container = document.getElementById('proxyList');
        try {
            await fetchProxies();
            if (proxies.length === 0) {
                container.innerHTML = '<p style="color:#666;text-align:center;">No proxy files found.</p>';
                return;
            }
            container.innerHTML = proxies.map(p => `
                <div class="proxy-item" onclick="loadProxy('${p.path}', '${p.name}')">
                    ${p.name}
                </div>`).join('');
        } catch (e) {
            console.error(e);
            container.innerHTML = '<p style="color:#ff0000;text-align:center;">Failed to load proxies.</p>';
        }
    }

    // Game loading
    async function loadGame(filename, title) {
        currentGame = { filename, title };
        const loader = document.getElementById('game-loader');
        const container = document.getElementById('game-container');
        const frame = document.getElementById('game-frame');
        const gameTitle = document.getElementById('currentGameTitle');

        const verse = getRandomVerse();
        document.getElementById('verseText').textContent = '"' + verse.text + '"';
        document.getElementById('verseReference').textContent = '- ' + verse.ref;

        loader.style.display = 'flex';
        container.style.display = 'none';

        try {
            const html = await fetchWithFallback(filename);
            const gameFolder = filename.substring(0, filename.lastIndexOf('/') + 1);
            const baseUrl = 'https://cdn.jsdelivr.net/gh/' + GITHUB_USER + '/' + GITHUB_REPO + '@' + GITHUB_BRANCH + '/' + gameFolder;
            
            let modifiedHtml = html;
            if (!modifiedHtml.includes('<base')) {
                modifiedHtml = modifiedHtml.replace('<head>', '<head><base href="' + baseUrl + '">');
            }
            
            setTimeout(function() {
                gameTitle.textContent = title;
                const blob = new Blob([modifiedHtml], { type: 'text/html' });
                const blobUrl = URL.createObjectURL(blob);
                frame.src = blobUrl;
                frame.onload = function() { console.log('Game loaded'); };
                loader.style.display = 'none';
                container.style.display = 'flex';
            }, 5000);
        } catch (err) {
            loader.style.display = 'none';
            alert('Failed to load game: ' + err.message);
            console.error(err);
        }
    }

    async function loadProxy(filepath, title) {
        currentGame = { filename: filepath, title };
        const loader = document.getElementById('game-loader');
        const container = document.getElementById('game-container');
        const frame = document.getElementById('game-frame');
        const gameTitle = document.getElementById('currentGameTitle');

        const verse = getRandomVerse();
        document.getElementById('verseText').textContent = '"' + verse.text + '"';
        document.getElementById('verseReference').textContent = '- ' + verse.ref;

        loader.style.display = 'flex';
        container.style.display = 'none';

        try {
            const html = await fetchWithFallback(filepath);
            const gameFolder = filepath.substring(0, filepath.lastIndexOf('/') + 1);
            const baseUrl = 'https://cdn.jsdelivr.net/gh/' + GITHUB_USER + '/' + GITHUB_REPO + '@' + GITHUB_BRANCH + '/' + gameFolder;
            
            let modifiedHtml = html;
            if (!modifiedHtml.includes('<base')) {
                modifiedHtml = modifiedHtml.replace('<head>', '<head><base href="' + baseUrl + '">');
            }
            
            setTimeout(function() {
                gameTitle.textContent = title;
                const blob = new Blob([modifiedHtml], { type: 'text/html' });
                const blobUrl = URL.createObjectURL(blob);
                frame.src = blobUrl;
                frame.onload = function() { console.log('Proxy loaded'); };
                loader.style.display = 'none';
                container.style.display = 'flex';
            }, 5000);
        } catch (err) {
            loader.style.display = 'none';
            alert('Failed to load proxy: ' + err.message);
            console.error(err);
        }
    }

    function reloadGame() {
        if (currentGame.filename) {
            if (currentGame.filename.includes('prox/')) {
                loadProxy(currentGame.filename, currentGame.title);
            } else {
                loadGame(currentGame.filename, currentGame.title);
            }
        }
    }

    function toggleFullscreen() {
        const gameContainer = document.getElementById('game-container');
        const btn = document.getElementById('fullscreenBtn');
        const hint = document.getElementById('fullscreenHint');

        if (!document.fullscreenElement && !document.webkitFullscreenElement &&
            !document.mozFullScreenElement && !document.msFullscreenElement) {
            if (gameContainer.requestFullscreen) gameContainer.requestFullscreen();
            else if (gameContainer.webkitRequestFullscreen) gameContainer.webkitRequestFullscreen();
            else if (gameContainer.mozRequestFullScreen) gameContainer.mozRequestFullScreen();
            else if (gameContainer.msRequestFullscreen) gameContainer.msRequestFullscreen();

            btn.textContent = '‚õ∂ Exit Fullscreen';
            hint.classList.add('show');
            setTimeout(() => hint.classList.remove('show'), 3000);
        } else {
            if (document.exitFullscreen) document.exitFullscreen();
            else if (document.webkitExitFullscreen) document.webkitExitFullscreen();
            else if (document.mozCancelFullScreen) document.mozCancelFullScreen();
            else if (document.msExitFullscreen) document.msExitFullscreen();

            btn.textContent = '‚õ∂ Fullscreen';
        }
    }

    document.addEventListener('fullscreenchange', updateFullscreenButton);
    document.addEventListener('webkitfullscreenchange', updateFullscreenButton);
    document.addEventListener('mozfullscreenchange', updateFullscreenButton);
    document.addEventListener('MSFullscreenChange', updateFullscreenButton);

    function updateFullscreenButton() {
        const btn = document.getElementById('fullscreenBtn');
        const inFull = document.fullscreenElement || document.webkitFullscreenElement ||
                        document.mozFullScreenElement || document.msFullscreenElement;
        btn.textContent = inFull ? '‚õ∂ Exit Fullscreen' : '‚õ∂ Fullscreen';
    }

    function closeGame() {
        if (document.fullscreenElement || document.webkitFullscreenElement ||
            document.mozFullScreenElement || document.msFullscreenElement) {
            if (document.exitFullscreen) document.exitFullscreen();
            else if (document.webkitExitFullscreen) document.webkitExitFullscreen();
            else if (document.mozCancelFullScreen) document.mozCancelFullScreen();
            else if (document.msExitFullscreen) document.msExitFullscreen();
        }

        document.getElementById('game-container').style.display = 'none';
        document.getElementById('game-frame').src = '';
        currentGame = { filename: '', title: '' };
    }

    // Initialization
    async function initializeLauncher() {
        const loader = document.getElementById('initial-loader');
        const main = document.getElementById('main-content');
        const gameCount = document.getElementById('gameCount');
        const loadingText = loader.querySelector('.loading-text');

        // Apply saved theme
        applyTheme(currentTheme);
        renderThemeGrid();
        
        // Load saved teacher link
        loadTeacherLink();

        // Load saved tab customization
        loadTabCustomization();

        try {
            await fetchGames();
            gameCount.textContent = `${games.length} Games Found!`;
            loadingText.textContent = 'Loading games - use this wisely mostly during free time or lunch';

            setTimeout(() => {
                renderAlphabetNav();
                renderGameSections();
                loader.style.display = 'none';
                main.style.display = 'block';
            }, 1500);
        } catch (e) {
            loadingText.textContent = 'Error loading games';
            gameCount.innerHTML = '<span style="color:#ff0000;">Failed to connect to GitHub. Try reloading the page.</span>';
            console.error(e);
            setTimeout(() => {
                if (confirm('Failed to load games from GitHub. Retry?')) location.reload();
            }, 2000);
        }
    }

    document.getElementById('proxysItem').addEventListener('click', () => {
        if (proxyUnlocked) renderProxyItems();
    });

    if (proxyUnlocked) {
        const proxyItem = document.getElementById('proxysItem');
        proxyItem.classList.remove('locked');
        proxyItem.innerHTML = 'üåê Proxys<span class="tooltip">Browse proxy files</span>';
    }
    
    if (testingUnlocked) {
        const testingItem = document.getElementById('testingItem');
        testingItem.classList.remove('locked');
        testingItem.innerHTML = 'üß™ Testing<span class="tooltip">Experimental features</span>';
    }

    initializeLauncher();
</script>
</body>
</html>
